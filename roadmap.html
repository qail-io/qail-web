<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roadmap | QAIL</title>
    <meta name="description"
        content="QAIL Roadmap: The journey from SQL strings to pure AST-native database access. See what's completed, in progress, and planned.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <!-- Social Meta Tags -->
    <meta property="og:title" content="Roadmap | QAIL">
    <meta property="og:description"
        content="From SQL strings to wire protocol bytes. Track QAIL's evolution to pure AST-native database access.">
    <meta property="og:image" content="https://qail-web.pages.dev/social_preview.svg">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .evolution-block {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'JetBrains Mono', monospace;
        }

        .evolution-block .era {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .evolution-block .era:last-child {
            border-bottom: none;
        }

        .evolution-block .era-num {
            color: var(--primary);
            font-weight: 700;
            min-width: 60px;
        }

        .evolution-block .era-name {
            color: var(--text-primary);
            font-weight: 600;
            min-width: 140px;
        }

        .evolution-block .era-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .roadmap-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .roadmap-section h3 {
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .roadmap-section .badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: 600;
        }

        .badge-done {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .badge-progress {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .badge-planned {
            background: rgba(168, 85, 247, 0.2);
            color: #a855f7;
        }

        .task-list {
            list-style: none;
            padding: 0;
            margin: 1rem 0 0 0;
        }

        .task-list li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
        }

        .task-list li:last-child {
            border-bottom: none;
        }

        .task-list .check {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .check-done {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .check-pending {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
        }

        .architecture-diagram {
            background: #0d1117;
            border-radius: 12px;
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            line-height: 1.5;
        }

        .acknowledgment {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(168, 85, 247, 0.1));
            border-left: 4px solid var(--primary);
            padding: 1rem 1.5rem;
            border-radius: 0 8px 8px 0;
            margin: 2rem 0;
        }

        .version-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .version-table th,
        .version-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .version-table th {
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 0.85rem;
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <div id="navbar"></div>

    <header class="page-header">
        <div class="container">
            <h1>Roadmap</h1>
            <p class="subtitle">The journey to pure AST-native database access.</p>
        </div>
    </header>

    <main class="page-content">
        <div class="container prose">
            <section>
                <h2>ğŸ¯ Vision</h2>
                <blockquote class="manifesto-quote">
                    "SQL is a text protocol designed for humans to type.<br>
                    QAIL is a binary protocol designed for machines to optimize."
                </blockquote>
            </section>

            <section>
                <h2>The Evolution</h2>
                <div class="evolution-block">
                    <div class="era">
                        <span class="era-num">Era 1</span>
                        <span class="era-name">SQL Strings</span>
                        <span class="era-desc">"Trust me, this string is safe"</span>
                    </div>
                    <div class="era">
                        <span class="era-num">Era 2</span>
                        <span class="era-name">ORMs</span>
                        <span class="era-desc">"Safe, but locked to one language"</span>
                    </div>
                    <div class="era">
                        <span class="era-num">Era 3</span>
                        <span class="era-name">Query Builders</span>
                        <span class="era-desc">"Safe, but still generates strings"</span>
                    </div>
                    <div class="era">
                        <span class="era-num">Era 4</span>
                        <span class="era-name">SQLx</span>
                        <span class="era-desc">"Compile-time checked SQL â€” the breakthrough"</span>
                    </div>
                    <div class="era" style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 0.75rem;">
                        <span class="era-num" style="color: var(--accent-blue);">Era 5</span>
                        <span class="era-name" style="color: var(--accent-blue);">QAIL</span>
                        <span class="era-desc">"Pure AST that compiles directly to wire protocol"</span>
                    </div>
                </div>

                <div class="acknowledgment">
                    <strong>Acknowledgment:</strong> SQLx pioneered compile-time SQL validation in Rust and remains the
                    gold standard for SQL-based database access. QAIL builds on this foundation by eliminating strings
                    entirely â€” a natural evolution, not a replacement.
                </div>
            </section>

            <section>
                <h2>Architecture</h2>
                <div class="architecture-diagram">
                    <pre style="margin: 0; color: var(--text-secondary);">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span style="color: var(--primary);">Layer 1: Intent (App Code)</span>                                    â”‚
â”‚   - User constructs QailCmd AST                               â”‚
â”‚   - Pure data, no I/O                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ <span style="color: var(--accent-blue);">Layer 2: Brain (Pure Logic)</span>                                   â”‚
â”‚   - AstEncoder compiles AST â†’ BytesMut                        â”‚
â”‚   - NO async, NO tokio, NO networking                         â”‚
â”‚   - Can compile to WASM                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ <span style="color: var(--accent-purple);">Layer 3: Muscle (Async Runtime)</span>                               â”‚
â”‚   - Tokio TcpStream sends bytes                               â”‚
â”‚   - ONLY layer with runtime dependency                        â”‚
â”‚   - Swappable: tokio â†’ async-std â†’ glommio                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ <span style="color: #22c55e;">Layer 4: Reality (Database)</span>                                   â”‚
â”‚   - PostgreSQL, MySQL, etc.                                   â”‚
â”‚   - Each speaks its own wire protocol                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
                </div>
            </section>

            <section>
                <h2>âœ… Completed</h2>

                <div class="roadmap-section">
                    <h3><span class="badge badge-done">Done</span> Core AST (qail-core)</h3>
                    <ul class="task-list">
                        <li><span class="check check-done">âœ“</span> QailCmd universal AST representation</li>
                        <li><span class="check check-done">âœ“</span> DML: get, add, set, del commands</li>
                        <li><span class="check check-done">âœ“</span> DDL: make (CREATE TABLE), index (CREATE INDEX)</li>
                        <li><span class="check check-done">âœ“</span> Joins: left/right/inner with ON conditions</li>
                        <li><span class="check check-done">âœ“</span> CTEs: WITH clause support</li>
                        <li><span class="check check-done">âœ“</span> Expressions: CASE WHEN, aggregates, window
                            functions</li>
                        <li><span class="check check-done">âœ“</span> Builder API for type-safe query construction</li>
                    </ul>
                </div>

                <div class="roadmap-section">
                    <h3><span class="badge badge-done">Done</span> PostgreSQL Driver (qail-pg)</h3>
                    <ul class="task-list">
                        <li><span class="check check-done">âœ“</span> Wire protocol types (FrontendMessage,
                            BackendMessage)</li>
                        <li><span class="check check-done">âœ“</span> AstEncoder: AST â†’ BytesMut (DML + DDL)</li>
                        <li><span class="check check-done">âœ“</span> Native TLS support (Let's Encrypt)</li>
                        <li><span class="check check-done">âœ“</span> Connection handling with tokio</li>
                        <li><span class="check check-done">âœ“</span> Layer 2/3 separation (protocol/ vs driver/)</li>
                    </ul>
                </div>

                <div class="roadmap-section">
                    <h3><span class="badge badge-done">Done</span> Developer Tools</h3>
                    <ul class="task-list">
                        <li><span class="check check-done">âœ“</span> CLI: qail command with REPL</li>
                        <li><span class="check check-done">âœ“</span> LSP: VS Code extension</li>
                        <li><span class="check check-done">âœ“</span> WASM: Browser playground</li>
                    </ul>
                </div>
            </section>

            <section>
                <h2>ğŸš€ In Progress: v0.9.0</h2>
                <p><strong>Theme:</strong> "AST to Bytes, No Strings Attached"</p>

                <div class="roadmap-section">
                    <h3><span class="badge badge-progress">In Progress</span> Wire Protocol</h3>
                    <ul class="task-list">
                        <li><span class="check check-pending">â—‹</span> Extended Query Protocol (Parse/Bind/Execute)
                        </li>
                        <li><span class="check check-pending">â—‹</span> Parameter binding in wire protocol</li>
                        <li><span class="check check-pending">â—‹</span> Row decoding (bytes â†’ typed values)</li>
                        <li><span class="check check-pending">â—‹</span> Connection pooling skeleton</li>
                        <li><span class="check check-pending">â—‹</span> Transaction support (BEGIN/COMMIT/ROLLBACK)</li>
                    </ul>
                </div>
            </section>

            <section>
                <h2>ğŸ“¦ Next: v0.9.1 â€” AST-Native Migrations</h2>
                <p><strong>Theme:</strong> "No SQL Files. Pure AST Diff."</p>

                <div class="roadmap-section">
                    <h3>The Paradigm Shift</h3>
                    <table class="version-table">
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Traditional</th>
                                <th>QAIL</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Storage</strong></td>
                                <td><code>up.sql</code> / <code>down.sql</code></td>
                                <td>Schema AST (JSON)</td>
                            </tr>
                            <tr>
                                <td><strong>Creation</strong></td>
                                <td>Hand-written SQL</td>
                                <td>Auto-generated diff</td>
                            </tr>
                            <tr>
                                <td><strong>Rollback</strong></td>
                                <td>Manual <code>down.sql</code></td>
                                <td>Reverse the AST diff</td>
                            </tr>
                            <tr>
                                <td><strong>Dialect</strong></td>
                                <td>One file per database</td>
                                <td>Universal AST â†’ any wire protocol</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="architecture-diagram">
                    <pre style="margin: 0; color: var(--text-secondary);">
# <span style="color: #ef4444;">Traditional (string-based)</span>
migrations/
â”œâ”€â”€ 001_create_users.up.sql    â† Hand-written SQL
â”œâ”€â”€ 001_create_users.down.sql  â† Hand-written rollback
â””â”€â”€ 002_add_email.up.sql       â† Dialect-specific

# <span style="color: #22c55e;">QAIL (AST-based)</span>
schema/
â”œâ”€â”€ v1.json   â† Schema snapshot (auto-generated)
â”œâ”€â”€ v2.json   â† Schema snapshot (auto-generated)
â””â”€â”€ current   â† Symlink to latest

# <span style="color: var(--primary);">Migration is COMPUTED, not written!</span></pre>
                </div>

                <div class="roadmap-section">
                    <h3>CLI Workflow</h3>
                    <div class="architecture-diagram">
                        <pre style="margin: 0; color: var(--text-secondary);">
# 1. Pull current schema from any database
<span style="color: var(--primary);">qail pull</span> postgres://prod/db > schema/v1.json
<span style="color: var(--primary);">qail pull</span> mysql://staging/db > schema/v1.json  # Same format!

# 2. Make changes (edit schema or pull from staging)
<span style="color: var(--primary);">qail pull</span> postgres://staging/db > schema/v2.json

# 3. See the diff (returns Vec&lt;QailCmd&gt;)
<span style="color: var(--primary);">qail diff</span> schema/v1.json schema/v2.json

# 4. Apply to ANY database (same AST, different wire protocol)
<span style="color: var(--primary);">qail migrate up</span> postgres://prod/db
<span style="color: var(--primary);">qail migrate up</span> mysql://prod/db
<span style="color: var(--primary);">qail migrate up</span> sqlite://local.db

# 5. Rollback (auto-computed reverse diff)
<span style="color: var(--primary);">qail migrate down</span> postgres://prod/db</pre>
                    </div>
                </div>

                <div class="acknowledgment">
                    <strong>The same schema JSON works for PostgreSQL, MySQL, SQLite, MongoDB, DynamoDB.</strong><br>
                    No more dialect-specific migration files. No more hand-writing SQL. Pure AST that encodes to any
                    wire protocol.
                </div>
            </section>

            <section>
                <h2>ğŸ”® Future: v1.0.0</h2>
                <p><strong>Theme:</strong> "Production Ready"</p>

                <div class="roadmap-section">
                    <h3><span class="badge badge-planned">Planned</span> Core Features</h3>
                    <ul class="task-list">
                        <li><span class="check check-pending">â—‹</span> Full Extended Query Protocol</li>
                        <li><span class="check check-pending">â—‹</span> Prepared statement caching</li>
                        <li><span class="check check-pending">â—‹</span> SCRAM-SHA-256 authentication</li>
                        <li><span class="check check-pending">â—‹</span> Zero-copy row decoding</li>
                        <li><span class="check check-pending">â—‹</span> Pipeline mode (batch queries)</li>
                    </ul>
                </div>

                <div class="roadmap-section">
                    <h3><span class="badge badge-planned">Planned</span> Multi-Database</h3>
                    <ul class="task-list">
                        <li><span class="check check-pending">â—‹</span> qail-mysql â€” MySQL wire protocol</li>
                        <li><span class="check check-pending">â—‹</span> qail-sqlite â€” SQLite (embedded, no network)
                        </li>
                    </ul>
                </div>
            </section>

            <section>
                <h2>ğŸ“¦ Version History</h2>
                <table class="version-table">
                    <thead>
                        <tr>
                            <th>Version</th>
                            <th>Date</th>
                            <th>Highlights</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>â€”</td>
                            <td>Dec 2024</td>
                            <td><strong>Idea born</strong> â€” "What if we had a universal query language?"</td>
                        </tr>
                        <tr>
                            <td>â€”</td>
                            <td>Jul 2025</td>
                            <td><strong>Draft created</strong> â€” Started building the transpiler internally</td>
                        </tr>
                        <tr>
                            <td><code>0.6.0</code></td>
                            <td>Dec 2025</td>
                            <td><strong>Public release</strong> â€” Universal transpiler (still string-based, relied on
                                SQLx)</td>
                        </tr>
                        <tr>
                            <td><code>0.8.0</code></td>
                            <td>Dec 2025</td>
                            <td>Improved parser, but realized: "We're just another ORM, 80% strings"</td>
                        </tr>
                        <tr>
                            <td><code>0.9.0</code></td>
                            <td>Dec 2025</td>
                            <td><strong>The pivot</strong> â€” "Be like clib/pgx, or be nothing." Nuked strings entirely.
                            </td>
                        </tr>
                        <tr>
                            <td><code>1.0.0</code></td>
                            <td>TBD</td>
                            <td>Stable PostgreSQL driver â€” production ready</td>
                        </tr>
                        <tr>
                            <td><code>2.0.0</code></td>
                            <td>TBD</td>
                            <td>Return to agnostic philosophy â€” support all SQL/NoSQL via pure AST</td>
                        </tr>
                    </tbody>
                </table>

                <div class="roadmap-section" style="margin-top: 2rem;">
                    <h3 style="margin-bottom: 1rem;">The Journey</h3>
                    <p><strong>Dec 2024:</strong> The idea â€” a universal query transpiler to end "Polyglot Hell."</p>
                    <p><strong>Jul 2025:</strong> First draft. Used it internally. Still relied on SQLx. Still 80%
                        string manipulation like every other ORM.</p>
                    <p><strong>Dec 2025 (0.6.0-0.8.0):</strong> Public release. Community feedback. But something felt
                        wrong â€” we were building the same thing everyone else had built.</p>
                    <p><strong>Dec 2025 (0.9.0):</strong> The realization: <em>"SQLx pioneered compile-time SQL. To
                            matter, we must go further â€” eliminate strings entirely."</em> We nuked the string layer.
                        Pure AST to wire protocol.</p>
                    <p><strong>v1.0 Vision:</strong> Stable PostgreSQL driver that proves the architecture.</p>
                    <p><strong>v2.0 Vision:</strong> Return to the original dream â€” universal database access. But this
                        time, speaking AST, not strings. Every database (SQL and NoSQL) through one typed interface.</p>
                </div>
            </section>

            <section>
                <h2>ğŸ’¡ Philosophy</h2>
                <blockquote class="manifesto-quote"
                    style="border-left-color: var(--accent-purple); background: rgba(168, 85, 247, 0.05);">
                    "QAIL eliminates SQL strings entirely. The builder API (QailCmd::get(), QailCmd::add()) is the ONLY
                    way to construct queries. No parsing at runtime, no strings anywhere."
                </blockquote>

                <table class="version-table">
                    <thead>
                        <tr>
                            <th>Aspect</th>
                            <th>SQL Strings</th>
                            <th>QAIL AST</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Type Safety</strong></td>
                            <td>Runtime errors</td>
                            <td>Compile-time</td>
                        </tr>
                        <tr>
                            <td><strong>Injection Risk</strong></td>
                            <td>Possible</td>
                            <td>Impossible</td>
                        </tr>
                        <tr>
                            <td><strong>Parsing</strong></td>
                            <td>At runtime</td>
                            <td>At compile</td>
                        </tr>
                        <tr>
                            <td><strong>Portability</strong></td>
                            <td>Text encoding issues</td>
                            <td>Binary, exact</td>
                        </tr>
                        <tr>
                            <td><strong>Optimization</strong></td>
                            <td>Hard</td>
                            <td>AST transformations</td>
                        </tr>
                    </tbody>
                </table>
            </section>

        </div>
    </main>

    <!-- Footer -->
    <div id="footer"></div>

    <script src="components.js"></script>
    <script src="script.js"></script>
</body>

</html>